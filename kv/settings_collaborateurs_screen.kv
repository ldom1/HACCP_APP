#:import utils kivy.utils
#:import ManageCollaborateurs HaccpApp.haccpApp.src.pyScripts.collaborateur.ManageCollaborateurs

<SettingsCollaborateursScreen>:
    FloatLayout:
        GridLayout:
            cols: 3
            pos_hint: {"top": .99, "left": 1}
            size_hint: 1, .98
            padding: 10, 10
            GridLayout:
                pos_hint: {"top": 0.8, "left": 1}
                size_hint: .2, .8
                spacing: 10, 10
                padding: 0, 10
                cols: 1
                LabelButton:
                    id: btn_settings_collaborators
                    canvas.before:
                        Color:
                            rgb: utils.get_color_from_hex("#0062D1")
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    text: "Collaborateurs"
                    color: utils.get_color_from_hex("#ffffff")
                    markup: True
                    on_press:
                        self.text = "[b]Collaborateurs[/b]"
                    on_release:
                        self.text = "Collaborateurs"
                LabelButton:
                    id: btn_settings_elements_refrigerants
                    canvas:
                        Color:
                            rgb: utils.get_color_from_hex("#0062D1")
                        Line:
                            width: 2
                            rectangle: self.x, self.y, self.width, self.height
                    text: "Éléments régrigérants"
                    background_color: utils.get_color_from_hex("#000000")
                    color: utils.get_color_from_hex("#0062D1")
                    markup: True
                    on_press:
                        self.text = "[b]Éléments régrigérants[/b]"
                    on_release:
                        self.text = "Éléments régrigérants"
                        app.change_screen("settings_elements_refrigerants_screen", "left")
                LabelButton:
                    id: btn_settings_plan_nettoyage
                    canvas:
                        Color:
                            rgb: utils.get_color_from_hex("#0062D1")
                        Line:
                            width: 2
                            rectangle: self.x, self.y, self.width, self.height
                    text: "Plan de nettoyage"
                    background_color: utils.get_color_from_hex("#000000")
                    color: utils.get_color_from_hex("#0062D1")
                    markup: True
                    on_press:
                        self.text = "[b]Plan de nettoyage[/b]"
                    on_release:
                        self.text = "Plan de nettoyage"
                        app.change_screen("settings_plan_nettoyage_screen", "left")
                LabelButton:
                    id: btn_settings_fournisseurs
                    canvas:
                        Color:
                            rgb: utils.get_color_from_hex("#0062D1")
                        Line:
                            width: 2
                            rectangle: self.x, self.y, self.width, self.height
                    text: "Fournisseurs"
                    background_color: utils.get_color_from_hex("#000000")
                    color: utils.get_color_from_hex("#0062D1")
                    markup: True
                    on_press:
                        self.text = "[b]Fournisseurs[/b]"
                    on_release:
                        self.text = "Fournisseurs"
                        app.change_screen("settings_fournisseurs_screen", "left")
                LabelButton:
                    id: btn_settings_friteuses
                    canvas:
                        Color:
                            rgb: utils.get_color_from_hex("#0062D1")
                        Line:
                            width: 2
                            rectangle: self.x, self.y, self.width, self.height
                    text: "Friteuses"
                    background_color: utils.get_color_from_hex("#000000")
                    color: utils.get_color_from_hex("#0062D1")
                    markup: True
                    on_press:
                        self.text = "[b]Friteuses[/b]"
                    on_release:
                        self.text = "Friteuses"
                        app.change_screen("settings_friteuse_screen", "left")
                LabelButton:
                    id: btn_settings_etiquettes
                    canvas:
                        Color:
                            rgb: utils.get_color_from_hex("#0062D1")
                        Line:
                            width: 2
                            rectangle: self.x, self.y, self.width, self.height
                    text: "Étiquettes"
                    background_color: utils.get_color_from_hex("#000000")
                    color: utils.get_color_from_hex("#0062D1")
                    markup: True
                    on_press:
                        self.text = "[b]Étiquettes[/b]"
                    on_release:
                        self.text = "Étiquettes"
                        app.change_screen("settings_etiquettes_screen", "left")
            GridLayout:
                pos_hint: {"top": 0.8, "left": 1}
                size_hint: .33, .8
                spacing: 10, 10
                padding: 20, 10
                cols: 1
                GridLayout:
                    cols: 1
                    pos_hint: {"top": 1, "left": 1}
                    size_hint: 1, .1
                    LabelButton:
                        canvas:
                            Color:
                                rgb: utils.get_color_from_hex("#0062D1")
                            Line:
                                width: 2
                                rectangle: self.x, self.y, self.width, self.height
                        text: "Mes collaborateurs"
                        background_color: utils.get_color_from_hex("#000000")
                        color: utils.get_color_from_hex("#0062D1")
                ScrollView:
                    pos_hint: {"top": .8, "left": 1}
                    size_hint: 1, .7
                    GridLayout:
                        # Banner grid
                        id: settings_collaborateurs_screen_banner
                        cols: 1
                        spacing: 5, 5
                        padding: 20, 20
                        size_hint_y: None
                        height: self.minimum_height
                        width: self.minimum_width
                        row_default_height: '60dp'
                        row_force_default: True
            GridLayout:
                pos_hint: {"top": 0.8, "left": 1}
                size_hint: .33, .8
                spacing: 10, 10
                padding: 0, 10
                cols: 1
                GridLayout:
                    cols: 1
                    pos_hint: {"top": 1, "left": 1}
                    size_hint: 1, .1
                    LabelButton:
                        canvas:
                            Color:
                                rgb: utils.get_color_from_hex("#0062D1")
                            Line:
                                width: 2
                                rectangle: self.x, self.y, self.width, self.height
                        text: "Ajouter un collaborateur"
                        background_color: utils.get_color_from_hex("#000000")
                        color: utils.get_color_from_hex("#0062D1")

                GridLayout:
                    cols: 1
                    pos_hint: {"top": 0.8, "left": 1}
                    size_hint: 1, .7
                    spacing: 10, 10
                    TextInput:
                        pos_hint: {"top": .75, "left": 1}
                        size_hint: .1, .1
                        id: settings_collaborateurs_nom
                        hint_text: "Nom"

                    TextInput:
                        pos_hint: {"top": .65, "left": 1}
                        size_hint: .1, .1
                        id: settings_collaborateurs_prenom
                        hint_text: "Prénom"
                    GridLayout:
                        cols: 2
                        pos_hint: {"top": .3, "left": 1}
                        size_hint: 1, .1
                        spacing: 10, 10
                        padding: 0, 10
                        LabelButton:
                            canvas.before:
                                Color:
                                    rgb: utils.get_color_from_hex("#C04A4A") if self.state == 'normal' else utils.get_color_from_hex("#C00000")
                                Rectangle:
                                    size: self.size
                                    pos: self.pos
                            text: "[u]Annuler[/u]"
                            markup: True
                            on_release:
                                app.change_screen("settings_screen", direction="right")
                        LabelButton:
                            id: btn_settings_collaborateurs_valider
                            canvas.before:
                                Color:
                                    rgb: utils.get_color_from_hex("#3CAE70") if self.state == 'normal' else utils.get_color_from_hex("#00B050")
                                Rectangle:
                                    size: self.size
                                    pos: self.pos
                            text: "[u]Valider[/u]"
                            markup: True
                            on_release:
                                ManageCollaborateurs().get_data_settings()